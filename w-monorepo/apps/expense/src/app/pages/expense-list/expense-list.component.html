<div class="expense-list">
  <div class="top-bar">
    <button class="add-button" [routerLink]="['/expense/new']">
      â• æ–°å¢æ”¯å‡º
    </button>

    <div class="search-bar">
      <input [(ngModel)]="searchKeyword" placeholder="æœç´¢ç±»åˆ«æˆ–æè¿°" />
      <button (click)="search()">ğŸ” æœç´¢</button>
    </div>
  </div>

  <table class="record-table">
    <thead>
      <tr>
        <th>ç¼–å·</th>
        <th>æ—¶é—´</th>
        <th>ç±»åˆ«</th>
        <th>æè¿°</th>
        <th>é‡‘é¢</th>
        <th>æ“ä½œ</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let record of pagedRecords">
        <td>{{ record.id }}</td>
        <td>{{ formatDate(record.dateTime) }}</td>
        <td>{{ record.category }}</td>
        <td>{{ record.description }}</td>
        <td>{{ record.amount }}</td>
        <td>
          <button [routerLink]="['/expense/edit', record.id]">ç¼–è¾‘</button>
          <button (click)="delete(record.id)">åˆ é™¤</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- âœ… ç§»åŠ¨ç«¯å¡ç‰‡è§†å›¾ -->
  <div class="record-cards">
    <div class="record-card" *ngFor="let record of pagedRecords">
      <div><strong>ç¼–å·ï¼š</strong>{{ record.id }}</div>
      <div><strong>æ—¶é—´ï¼š</strong>{{ formatDate(record.dateTime) }}</div>
      <div><strong>ç±»åˆ«ï¼š</strong>{{ record.category }}</div>
      <div><strong>æè¿°ï¼š</strong>{{ record.description }}</div>
      <div><strong>é‡‘é¢ï¼š</strong>{{ record.amount }}</div>
      <div class="card-actions">
        <button [routerLink]="['/expense/edit', record.id]">ç¼–è¾‘</button>
        <button (click)="delete(record.id)">åˆ é™¤</button>
      </div>
    </div>
  </div>

  <div class="pagination">
    <button (click)="prevPage()" [disabled]="currentPage === 1">ä¸Šä¸€é¡µ</button>
    <span>ç¬¬ {{ currentPage }} é¡µ / å…± {{ totalPages }} é¡µ</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">
      ä¸‹ä¸€é¡µ
    </button>
    <span class="total-count">å…± {{ records.length }} æ¡æ”¯å‡º</span>
  </div>
</div>
