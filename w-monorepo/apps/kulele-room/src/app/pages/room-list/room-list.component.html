<div class="room-list">
  <div class="top-bar">
    <button class="add-button" [routerLink]="['/room/new']">â• æ–°å¢åŒ…æˆ¿</button>

    <div class="search-bar">
      <select [(ngModel)]="searchField">
        <option value="roomNumber">æˆ¿å·</option>
        <option value="roomType">ç±»å‹</option>
        <option value="status">çŠ¶æ€</option>
      </select>
      <input
        [(ngModel)]="searchKeyword"
        (keydown.enter)="search()"
        placeholder="è¯·è¾“å…¥å…³é”®å­—"
      />
      <button (click)="search()">ğŸ” æœç´¢</button>
    </div>
  </div>

  <table class="record-table" *ngIf="pagedRecords.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>æˆ¿å·</th>
        <th>ç±»å‹</th>
        <th>å®¹é‡</th>
        <th>ä»·æ ¼ï¼ˆæ¯å°æ—¶ï¼‰</th>
        <th>çŠ¶æ€</th>
        <th>æ“ä½œ</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let room of pagedRecords">
        <td>{{ room.id }}</td>
        <td>{{ room.roomNumber }}</td>
        <td>{{ room.roomType || '-' }}</td>
        <td>{{ room.capacity }}</td>
        <td>Â¥{{ room.pricePerHour | number : '1.2-2' }}</td>
        <td>{{ roomTypeLabel(room.status) }}</td>
        <td>
          <button [routerLink]="['/room/edit', room.id]">ç¼–è¾‘</button>
          <button (click)="delete(room.id)">åˆ é™¤</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="record-cards" *ngIf="pagedRecords.length > 0">
    <div class="record-card" *ngFor="let room of pagedRecords">
      <div><strong>IDï¼š</strong>{{ room.id }}</div>
      <div><strong>æˆ¿å·ï¼š</strong>{{ room.roomNumber }}</div>
      <div><strong>ç±»å‹ï¼š</strong>{{ room.roomType || '-' }}</div>
      <div><strong>å®¹é‡ï¼š</strong>{{ room.capacity }}</div>
      <div>
        <strong>ä»·æ ¼ï¼š</strong>Â¥{{ room.pricePerHour | number : '1.2-2' }}
      </div>
      <div><strong>çŠ¶æ€ï¼š</strong>{{ roomTypeLabel(room.status) }}</div>
      <div class="card-actions">
        <button [routerLink]="['/room/edit', room.id]">ç¼–è¾‘</button>
        <button (click)="delete(room.id)">åˆ é™¤</button>
      </div>
    </div>
  </div>

  <div class="no-data" *ngIf="pagedRecords.length === 0">æš‚æ— æ•°æ®</div>

  <div class="pagination" *ngIf="totalPages > 1">
    <button (click)="prevPage()" [disabled]="currentPage === 1">ä¸Šä¸€é¡µ</button>
    <span>ç¬¬ {{ currentPage }} é¡µ / å…± {{ totalPages }} é¡µ</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">
      ä¸‹ä¸€é¡µ
    </button>
    <span class="total-count">å…± {{ records.length }} æ¡æ•°æ®</span>
  </div>
</div>
