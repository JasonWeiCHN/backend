# WMonorepo

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by [Nx, Smart Monorepos · Fast CI.](https://nx.dev)** ✨

## Integrate with editors

Enhance your Nx experience by installing [Nx Console](https://nx.dev/nx-console) for your favorite editor. Nx Console
provides an interactive UI to view your projects, run tasks, generate code, and more! Available for VSCode, IntelliJ and
comes with a LSP for Vim users.

## Start the application

Run `npx nx serve static` to start the development server. Happy coding!

## Build for production

Run `npx nx build static` to build the application. The build artifacts are stored in the output directory (e.g. `dist/` or `build/`), ready to be deployed.

## Running tasks

To execute tasks with Nx use the following syntax:

```
npx nx <target> <project> <...options>
```

You can also run multiple targets:

```
npx nx run-many -t <target1> <target2>
```

..or add `-p` to filter specific projects

```
npx nx run-many -t <target1> <target2> -p <proj1> <proj2>
```

Targets can be defined in the `package.json` or `projects.json`. Learn more [in the docs](https://nx.dev/features/run-tasks).

## Set up CI!

Nx comes with local caching already built-in (check your `nx.json`). On CI you might want to go a step further.

- [Set up remote caching](https://nx.dev/features/share-your-cache)
- [Set up task distribution across multiple machines](https://nx.dev/nx-cloud/features/distribute-task-execution)
- [Learn more how to setup CI](https://nx.dev/recipes/ci)

## Explore the project graph

Run `npx nx graph` to show the graph of the workspace.
It will show tasks that you can run with Nx.

- [Learn more about Exploring the Project Graph](https://nx.dev/core-features/explore-graph)

## Connect with us!

- [Join the community](https://nx.dev/community)
- [Subscribe to the Nx Youtube Channel](https://www.youtube.com/@nxdevtools)
- [Follow us on Twitter](https://twitter.com/nxdevtools)

## 设计

- 萌新上路 / 高手进阶 / 欢乐整活

## 开发日志

- id 维护
- 公共样式没有设计 可以extend的那种
- 列表滚动加载
- 页面数据采集
- 提交表单
- 缩略图 服务器

- [bug] tab 路由没有入 url 匹配

```
创建项目
npx nx g @nx/angular:app inventory --directory=apps/inventory --dry-run
npx nx g @nx/angular:app static-shogun --directory=apps/static-shogun --add-tailwind

创建lib
nx g @nx/angular:library products --directory=libs/products --standalone

创建组件
nx g @nx/angular:component product-list --directory=libs/products/src/lib/product-list --standalone --export

在UI库创建组件
nx g @nx/angular:component pagination --directory=libs/shared/ui/src/lib/pagination --standalone --export --style=scss

给已有项目增加 tailwind
npx nx g @nx/angular:setup-tailwind my-project
```

## 关于 bilibili-api 的使用

- 下载高清晰度视频 需要使用

```
streams = detecter.detect_all()

还要填写
SESSDATA = "6ee3c61d%2C1730955052%2C1cb77%2A51CjDAygcxInzoPR8iz_KWaluDNvEgadVmiP0PcIrTfaz2GNhA3zTRp0rjRXTRXB9IVm8SVmN6UV9VNFlYWDRER2pCYm9mZm5NUzBKdTFRMmN6b2RNUzB3UVR5U3B0eENKalZyTlFlNXpzZGZrN3doNkpwSV9nQXlIalRYVXFmei0xM1JpaVA0S0NBIIEC"
BILI_JCT = "7e5c5317fe9573a2c2d1d0817cccbd81"

然后再选择对应清晰度，注意 index
await download_url(streams[8].url, "video_temp.m4s", "视频流")
await download_url(streams[20].url, "audio_temp.m4s", "音频流")
```

- 没有清晰度要求的话 使用

```
streams = detecter.detect_best_streams()
```

## 服务器

```
用户名
ubuntu
P@ssw0rd

ssh ubuntu@111.230.29.99

检测你当前nginx配置是否正确
sudo nginx -t

编辑nginx配置
sudo nano /etc/nginx/sites-available/default

重启ngnix
sudo systemctl reload nginx

控制台测试
curl http://localhost

检查 Nginx 日志：
查看 Nginx 的错误日志文件，通常位于 /var/log/nginx/error.log。
这里会记录详细的错误信息，帮助您找到问题所在。

ubuntu 移动文件
sudo mv /home/ubuntu/wgy/browser /var/www

移动完成后，您可以使用 ls 命令检查目标目录中是否已经存在了 browser 目录及其内容：
ls /var/www

升级 pip
sudo pip install --upgrade pip

后台启动 python Flask 服务
nohup python3 statistics.py > flask.log &

添加新项目后 如果用了新端口
记得去服务器 在防火墙 添加规则
```

## 文件服务器

```
启动指令 定位到web-files
nohup python3 web.py > nohup.out 2>&1 &
```

## 用户轨迹记录

- 翻墙访问会跨域 无法记录轨迹
- 翻墙访问是可以打开网站的 但是无法请求接口
